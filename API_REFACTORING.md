# –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API - –ò–∑–º–µ–Ω–µ–Ω–∏—è

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –°–æ–∑–¥–∞–Ω–∞ –ø–∞–ø–∫–∞ `api/` —Å –º–æ–¥—É–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

```
api/
‚îú‚îÄ‚îÄ __init__.py          # –≠–∫—Å–ø–æ—Ä—Ç —Ä–æ—É—Ç–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ dependencies.py      # –û–±—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ config.py           # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
‚îú‚îÄ‚îÄ bybit.py            # ByBit —Ä–æ—É—Ç—ã
‚îú‚îÄ‚îÄ binance.py          # Binance —Ä–æ—É—Ç—ã (placeholder)
‚îú‚îÄ‚îÄ cryptocom.py        # Crypto.com —Ä–æ—É—Ç—ã (placeholder)
‚îî‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
```

### 2. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏

**api_main.py** (149 —Å—Ç—Ä–æ–∫, –±—ã–ª–æ 550):
- –¢–æ–ª—å–∫–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è FastAPI
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–æ—É—Ç–µ—Ä–æ–≤
- Lifecycle management
- –ö–æ—Ä–Ω–µ–≤—ã–µ endpoints (/, /exchanges)

**api/bybit.py**:
- –í—Å–µ ByBit endpoints (start, stop, status, balance, stats)
- –§—É–Ω–∫—Ü–∏—è `start_bybit_internal()` –¥–ª—è –∞–≤—Ç–æ—Å—Ç–∞—Ä—Ç–∞
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ `data/bybit/`

**api/binance.py** –∏ **api/cryptocom.py**:
- Placeholder endpoints
- –ì–æ—Ç–æ–≤—ã –∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –º–æ–¥—É–ª–µ–π

**api/config.py**:
- `save_api_config()` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- `load_api_config()` - –∑–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è

**api/dependencies.py**:
- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (`traders`, `main_loop`)
- –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–π –±–∏—Ä–∂–∏
- –ê–≤—Ç–æ—Å–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–æ–∫

### 3. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**: –ö–∞–∂–¥–∞—è –±–∏—Ä–∂–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ  
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –±–∏—Ä–∂—É  
‚úÖ **–ß–∏—Å—Ç–æ—Ç–∞ –∫–æ–¥–∞**: api_main.py —Å–æ–∫—Ä–∞—Ç–∏–ª—Å—è —Å 550 –¥–æ 149 —Å—Ç—Ä–æ–∫  
‚úÖ **–ò–∑–æ–ª—è—Ü–∏—è**: –õ–æ–≥–∏–∫–∞ –±–∏—Ä–∂–∏ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ  
‚úÖ **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –û–±—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ dependencies.py  
‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ú–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –æ—Ç–¥–µ–ª—å–Ω–æ  
‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ–≥–∏ –≤ Swagger UI

### 4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

–ö–∞–∂–¥–∞—è –±–∏—Ä–∂–∞ —Ç–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ñ–∞–π–ª—ã –≤ —Å–≤–æ—é –ø–∞–ø–∫—É:
- `data/bybit/` - ByBit —Ñ–∞–π–ª—ã (.json, .dat, .log)
- `data/binance/` - Binance —Ñ–∞–π–ª—ã
- `data/cryptocom/` - Crypto.com —Ñ–∞–π–ª—ã

### 5. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã:
- ‚úÖ –ê–≤—Ç–æ—Å—Ç–∞—Ä—Ç –±–æ—Ç–æ–≤ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ API
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ `api_config.json`
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∑–∞–¥–∞—á
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ WebSocket –∏ background tasks
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ REST API

### 6. –ú–∏–≥—Ä–∞—Ü–∏—è

–°—Ç–∞—Ä—ã–π —Ñ–∞–π–ª —Å–æ—Ö—Ä–∞–Ω—ë–Ω –∫–∞–∫ `api_main_old.py` –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏.

## üìù –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –±–∏—Ä–∂—É

1. –°–æ–∑–¥–∞—Ç—å `api/exchange_name.py`
2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–∑ `api/bybit.py`
3. –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ –Ω–æ–≤—É—é –±–∏—Ä–∂—É
4. –î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç –≤ `api/__init__.py`:
   ```python
   from .exchange_name import router as exchange_router
   ```
5. –ü–æ–¥–∫–ª—é—á–∏—Ç—å –≤ `api_main.py`:
   ```python
   app.include_router(exchange_router)
   ```

## üöÄ –ó–∞–ø—É—Å–∫

```bash
uv run api_main.py
```

–í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ, –Ω–æ —Ç–µ–ø–µ—Ä—å –∫–æ–¥ —á–∏—â–µ –∏ –ø—Ä–æ—â–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ!
