# ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ API —Å–æ–∑–¥–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ!

## üìÅ –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
/projects/volatility_harvesting/
‚îú‚îÄ‚îÄ api_main.py              # üîÑ –û–±–Ω–æ–≤–ª—ë–Ω (149 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ api_main_old.py          # üíæ Backup —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏
‚îú‚îÄ‚îÄ vh_float.py              # ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ data_dir)
‚îÇ
‚îú‚îÄ‚îÄ api/                     # üÜï –ù–æ–≤–∞—è –º–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py         # –≠–∫—Å–ø–æ—Ä—Ç —Ä–æ—É—Ç–µ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ dependencies.py     # –û–±—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ config.py          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ bybit.py           # ByBit endpoints
‚îÇ   ‚îú‚îÄ‚îÄ binance.py         # Binance endpoints (placeholder)
‚îÇ   ‚îú‚îÄ‚îÄ cryptocom.py       # Crypto.com endpoints (placeholder)
‚îÇ   ‚îî‚îÄ‚îÄ README.md          # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
‚îÇ
‚îú‚îÄ‚îÄ data/                   # üÜï –ü–∞–ø–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–π –±–∏—Ä–∂–∏
‚îÇ   ‚îú‚îÄ‚îÄ bybit/            # ByBit: .json, .dat, .log
‚îÇ   ‚îú‚îÄ‚îÄ binance/          # Binance: –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
‚îÇ   ‚îî‚îÄ‚îÄ cryptocom/        # Crypto.com: –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
‚îÇ
‚îî‚îÄ‚îÄ api_config.json        # –ì–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API
```

## ‚ú® –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### 1. **–†–æ—É—Ç—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã**
   - `api/bybit.py` - –≤—Å–µ ByBit endpoints
   - `api/binance.py` - Binance (placeholder)
   - `api/cryptocom.py` - Crypto.com (placeholder)

### 2. **–§–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–ø–∫–∏ –±–∏—Ä–∂**
   - `data/bybit/BTCUSDC.json` - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–æ—Ç–∞
   - `data/bybit/data_s1.dat` - –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
   - `data/bybit/trading.log` - –ª–æ–≥–∏ —Ç–æ—Ä–≥–æ–≤–ª–∏

### 3. **–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
   - –û–±—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `dependencies.py`
   - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ `config.py`
   - –ö–∞–∂–¥–∞—è –±–∏—Ä–∂–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–ß–∏—Å—Ç—ã–π –∫–æ–¥**: api_main.py —Å–æ–∫—Ä–∞—â—ë–Ω —Å 550 –¥–æ 149 —Å—Ç—Ä–æ–∫  
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –±–∏—Ä–∂—É  
‚úÖ **–ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**: –ö–∞–∂–¥–∞—è –±–∏—Ä–∂–∞ –≤ —Å–≤–æ–µ–π –ø–∞–ø–∫–µ  
‚úÖ **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**: –ú–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ  
‚úÖ **–ê–≤—Ç–æ–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: Swagger UI —Å —Ç–µ–≥–∞–º–∏ –ø–æ –±–∏—Ä–∂–∞–º  
‚úÖ **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –û–±—â–∏–π –∫–æ–¥ –≤ dependencies

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ API
```bash
uv run api_main.py
```

### Endpoints –æ—Å—Ç–∞–ª–∏—Å—å –ø—Ä–µ–∂–Ω–∏–º–∏
```bash
# ByBit
POST /bybit/start
POST /bybit/stop
GET  /bybit/status
GET  /bybit/balance
GET  /bybit/stats

# Binance (coming soon)
GET  /binance/info

# Crypto.com (coming soon)
GET  /cryptocom/info
```

### Swagger UI
http://localhost:8000/docs

## üìù –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –±–∏—Ä–∂–∏

**–®–∞–≥ 1**: –°–æ–∑–¥–∞–π—Ç–µ `api/new_exchange.py`
```python
from fastapi import APIRouter, HTTPException
from .dependencies import traders, main_loop, EXCHANGE_DATA_DIRS
from .config import save_api_config

router = APIRouter(prefix="/new_exchange", tags=["New Exchange"])

@router.post("/start")
async def start_trading():
    # –í–∞—à–∞ –ª–æ–≥–∏–∫–∞
    pass
```

**–®–∞–≥ 2**: –î–æ–±–∞–≤—å—Ç–µ –≤ `api/__init__.py`
```python
from .new_exchange import router as new_exchange_router
__all__ = [..., "new_exchange_router"]
```

**–®–∞–≥ 3**: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤ `api_main.py`
```python
from api import ..., new_exchange_router
app.include_router(new_exchange_router)
```

**–ì–æ—Ç–æ–≤–æ!** üéâ

## üîÑ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- ‚úÖ –ê–≤—Ç–æ—Å—Ç–∞—Ä—Ç –±–æ—Ç–æ–≤
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á
- ‚úÖ API endpoints –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `api/README.md` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª–µ–π
- `API_REFACTORING.md` - –¥–µ—Ç–∞–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- `API_STRUCTURE.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è endpoints

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ö–æ–¥ —Å—Ç–∞–ª **—á–∏—â–µ**, **–º–æ–¥—É–ª—å–Ω–µ–µ** –∏ **–º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–µ–µ**!  
–¢–µ–ø–µ—Ä—å –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –±–∏—Ä–∂–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç.
